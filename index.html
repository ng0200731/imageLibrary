<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Image Library â€” Minimal Shell</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <aside class="sidebar" aria-label="Main menu">
      <div class="brand">
        <div class="hamburger">
          <div class="hamburger__line"></div>
          <div class="hamburger__line"></div>
          <div class="hamburger__line"></div>
        </div>
        <span>Image Library</span>
      </div>
      <nav class="menu">
        <a id="nav-library" class="menu__item is-active" href="#">Image Library</a>
        <a id="nav-upload" class="menu__item" href="#">Upload Image</a>
        <a id="nav-tags" class="menu__item" href="#">Tags</a>
        <a id="nav-settings" class="menu__item" href="#">Settings</a>
      </nav>

      <div class="version-wrapper">
          <span class="version">v0.7.0</span>
      </div>

      <div class="sidebar__footer">
        <button class="button button--primary" type="button">Login</button>
      </div>
    </aside>

    <main class="content">
      <!-- Image Library Page (Default) -->
      <div id="page-library" class="page">
        <header class="content__header">
          <h1 class="title">Image Library</h1>
        </header>
        <section class="panel">
          <p class="text">Your uploaded images will appear here.</p>
        </section>
      </div>

      <!-- Upload Image Page -->
      <div id="page-upload" class="page is-hidden">
          <header class="content__header">
            <h1 class="title">Upload Images</h1>
          </header>
          <section class="panel">
            <div id="upload-area" class="upload-area">
              <p class="text">Browse, drag & drop, or paste images</p>
              <input type="file" id="file-input" class="file-input" multiple />
              <label for="file-input" class="button">Browse Files</label>
            </div>
            <div id="preview-area" class="preview-area is-hidden">
                <div class="preview-header">
                    <h2 class="panel__title">Selected Images</h2>
                    <button id="clear-all" class="button" type="button">Clear All</button>
                </div>
                <div id="preview-grid" class="preview-grid"></div>
            </div>
            <div class="upload-actions">
                <button class="button button--primary" type="button">Upload</button>
            </div>
          </section>
      </div>
    </main>
  </div>

  <script>
    // --- Page Navigation ---
    const navLinks = {
        library: document.getElementById('nav-library'),
        upload: document.getElementById('nav-upload'),
    };
    const pages = {
        library: document.getElementById('page-library'),
        upload: document.getElementById('page-upload'),
    };

    function navigateTo(pageName) {
        Object.values(pages).forEach(page => page.classList.add('is-hidden'));
        document.querySelectorAll('.menu__item').forEach(link => link.classList.remove('is-active'));
        pages[pageName].classList.remove('is-hidden');
        navLinks[pageName].classList.add('is-active');
    }

    navLinks.library.addEventListener('click', (e) => { e.preventDefault(); navigateTo('library'); });
    navLinks.upload.addEventListener('click', (e) => { e.preventDefault(); navigateTo('upload'); });

    // --- Upload Page Logic ---
    const fileInput = document.getElementById('file-input');
    const previewArea = document.getElementById('preview-area');
    const previewGrid = document.getElementById('preview-grid');
    const clearAllButton = document.getElementById('clear-all');
    const uploadArea = document.getElementById('upload-area');

    function handleFiles(files) {
        if (files.length === 0) return;
        previewArea.classList.remove('is-hidden');
        for (const file of files) {
            if (!file.type.startsWith('image/')) continue;
            const reader = new FileReader();
            reader.onload = (e) => {
                const card = document.createElement('div');
                card.className = 'preview-card';
                const img = document.createElement('img');
                img.src = e.target.result;
                card.appendChild(img);
                previewGrid.appendChild(card);
            };
            reader.readAsDataURL(file);
        }
    }

    fileInput.addEventListener('change', (event) => {
        handleFiles(event.target.files);
    });

    clearAllButton.addEventListener('click', () => {
        previewGrid.innerHTML = '';
        previewArea.classList.add('is-hidden');
        fileInput.value = '';
    });

    // --- Drag and Drop Logic ---
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
        uploadArea.addEventListener(eventName, (e) => {
            e.preventDefault();
            e.stopPropagation();
        }, false);
    });

    ['dragenter', 'dragover'].forEach(eventName => {
        uploadArea.addEventListener(eventName, () => uploadArea.classList.add('is-dragover'), false);
    });

    ['dragleave', 'drop'].forEach(eventName => {
        uploadArea.addEventListener(eventName, () => uploadArea.classList.remove('is-dragover'), false);
    });

    uploadArea.addEventListener('drop', (e) => {
        handleFiles(e.dataTransfer.files);
    }, false);
  </script>
</body>
</html>

